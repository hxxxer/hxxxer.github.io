<?xml-stylesheet href="/rss.xsl" type="text/xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>é—²ç¢</title>
    <link>https://hxxxer.github.io/</link>
    <description>Recent content on é—²ç¢</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <copyright>This is a customized copyright.</copyright>
    <lastBuildDate>Fri, 12 Dec 2025 01:02:27 +0800</lastBuildDate>
    
        <atom:link href="https://hxxxer.github.io/index.xml" rel="self" type="application/rss+xml" />
    
    
    
        <item>
        <title>C#è°ƒç”¨DLLçš„æ–¹æ³•</title>
        <link>https://hxxxer.github.io/c%23%E8%B0%83%E7%94%A8dll%E7%9A%84%E6%96%B9%E6%B3%95/</link>
        <pubDate>Mon, 11 Nov 2024 00:29:13 +0800</pubDate>
        
        <guid>https://hxxxer.github.io/c%23%E8%B0%83%E7%94%A8dll%E7%9A%84%E6%96%B9%E6%B3%95/</guid>
        <description>é—²ç¢ https://hxxxer.github.io/c%23%E8%B0%83%E7%94%A8dll%E7%9A%84%E6%96%B9%E6%B3%95/ -&lt;p&gt;&lt;strong&gt;æœ€åç¼–è¾‘äº2024å¹´11æœˆ11æ—¥&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h1&gt;
&lt;p&gt;ä¹‹å‰éœ€è¦è°ƒç”¨dllé‡Œé¢çš„å›¾æ ‡ï¼Œè€Œè°ƒç”¨çš„å‡½æ•°ç”¨çš„æ˜¯ä¸€ä¸ªdllçš„å†…éƒ¨çš„å‡½æ•°ï¼Œæ‰€ä»¥è¿™é‡Œè®°å½•ä¸€ä¸‹è°ƒç”¨çš„ä¸¤ç§æ–¹æ³•ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;vsçš„é¡¹ç›®å¼•ç”¨&#34;&gt;VSçš„é¡¹ç›®å¼•ç”¨&lt;/h1&gt;
&lt;p&gt;åœ¨VSçš„æ–¹æ¡ˆèµ„æºç®¡ç†å™¨é‡Œé¢ï¼ˆ&lt;code&gt;Ctrl+Alt+L&lt;/code&gt;ï¼‰ï¼Œå³é”®ä¾èµ–é¡¹ - æ·»åŠ é¡¹ç›®å¼•ç”¨ï¼Œç„¶åé€‰æ‹©dllæ–‡ä»¶ï¼Œä¾‹å¦‚AddDll.dllï¼ˆé‡Œé¢æœ‰ä¸€ä¸ªADDç±»ï¼ŒADDé‡Œé¢æœ‰ä¸€ä¸ªcalculateå…¬å…±æ–¹æ³•ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¹‹åå°±å¯ä»¥åœ¨ä¾èµ–é¡¹ - ç¨‹åºé›†é‡Œé¢çœ‹åˆ°Addäº†ã€‚&lt;/p&gt;
&lt;p&gt;è°ƒç”¨ä¹Ÿå¾ˆç®€å•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ca9ee6&#34;&gt;using&lt;/span&gt; &lt;span style=&#34;color:#ef9f76&#34;&gt;AddDll&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;AddDll.ADD &lt;span style=&#34;color:#ca9ee6&#34;&gt;add&lt;/span&gt; = &lt;span style=&#34;color:#ca9ee6&#34;&gt;new&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e78284&#34;&gt;int&lt;/span&gt; c = &lt;span style=&#34;color:#ca9ee6&#34;&gt;add&lt;/span&gt;.calculate(a,b);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h1 id=&#34;ä½¿ç”¨dllimport&#34;&gt;ä½¿ç”¨DllImport&lt;/h1&gt;
&lt;p&gt;åœ¨éœ€è¦å¼•ç”¨çš„å‡½æ•°çš„ä¸Šä¸€è¡Œæ·»åŠ &lt;code&gt;[DllImport(&amp;quot;user.dll&amp;quot;, ......)]&lt;/code&gt;å°±è¡Œï¼Œä¸‹é¢æ˜¯æˆ‘è°ƒç”¨çš„è·å–dllå›¾æ ‡å‡½æ•°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8caaee&#34;&gt;[DllImport(&amp;#34;shell32.dll&amp;#34;, CharSet = CharSet.Auto)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e78284&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;extern&lt;/span&gt; IntPtr ExtractIcon(IntPtr hInst, &lt;span style=&#34;color:#e78284&#34;&gt;string&lt;/span&gt; lpszExeFileName, &lt;span style=&#34;color:#e78284&#34;&gt;int&lt;/span&gt; nIconIndex);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åé¢é‚£ä¸ª&lt;code&gt;CharSet = CharSet.Auto&lt;/code&gt;æ˜¯è°ƒç”¨å­—ç¬¦é›†ï¼ŒAutoæ˜¯è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢å‡½æ•°çš„å®šä¹‰è®°å¾—åŠ &lt;code&gt;static extern&lt;/code&gt;ï¼Œä»¥è¡¨ç¤ºè¿™ä¸ªæ˜¯ä¸€ä¸ªå¤–éƒ¨æ–¹æ³•å®ç°ï¼Œå®ƒå°†åœ¨è¿è¡Œæ—¶è§£æåˆ°æŒ‡å®šçš„éæ‰˜ç®¡ä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ–¹æ³•éœ€è¦çŸ¥é“dllå†…éƒ¨çš„å‡½æ•°åŠå…¶å½¢å‚ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è¡¥å……å…¶å®ƒçš„dllimportattributeå±æ€§&#34;&gt;è¡¥å……å…¶å®ƒçš„DllImportAttributeå±æ€§&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;EntryPoint=&amp;quot;MessageBoxA&amp;quot;&lt;/code&gt;ï¼Œè¿™ä¸ªå¯ä»¥ä¹ŸæŒ‡å®šå‡½æ•°ï¼Œè¿™æ ·ä¸‹é¢çš„å‡½æ•°å¼•ç”¨å°±å¯ä»¥ç”¨åˆ«çš„åå­—ï¼Œä½†æ˜¯æ³¨æ„è¿™ä¸ªEntryPointèµ‹å€¼å’Œä¸‹é¢çš„å‡½æ•°å¼•ç”¨ä¸ä¸€å®šç›¸åŒï¼Œæ¯”å¦‚ä¸Šé¢çš„&lt;code&gt;ExtractIcon&lt;/code&gt;ï¼Œåœ¨EntryPointé‡Œé¢åº”è¯¥æ˜¯&lt;code&gt;ExtractIconW&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ExactSpelling&lt;/code&gt; æŒ‡ç¤º &lt;code&gt;EntryPoint&lt;/code&gt; æ˜¯å¦å¿…é¡»ä¸æŒ‡ç¤ºçš„å…¥å£ç‚¹çš„æ‹¼å†™å®Œå…¨åŒ¹é…ï¼Œå¦‚ï¼š&lt;code&gt;ExactSpelling=false&lt;/code&gt;ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;PreserveSig&lt;/code&gt;æŒ‡ç¤ºæ–¹æ³•çš„ç­¾ååº”å½“è¢«ä¿ç•™è¿˜æ˜¯è¢«è½¬æ¢ï¼Œ å¦‚ï¼š&lt;code&gt;PreserveSig=true&lt;/code&gt;ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SetLastError&lt;/code&gt; æŒ‡ç¤ºæ–¹æ³•æ˜¯å¦ä¿ç•™ Win32&amp;quot;ä¸Šä¸€é”™è¯¯&amp;quot;ï¼Œå¦‚ï¼š&lt;code&gt;SetLastError=true&lt;/code&gt;ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CallingConvention&lt;/code&gt;æŒ‡ç¤ºå…¥å£ç‚¹çš„è°ƒç”¨çº¦å®šï¼Œ å¦‚ï¼š&lt;code&gt;CallingConvention=CallingConvention.Winapi&lt;/code&gt;ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;å‚è€ƒ&#34;&gt;å‚è€ƒ&lt;/h1&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://www.cnblogs.com/Im-Victor/p/14708695.html&#34;&gt;C#è°ƒç”¨DLLçš„å‡ ç§æ–¹æ³•&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/wangnaisheng/article/details/142462074&#34;&gt;ã€C#ã€‘DllImportçš„ä½¿ç”¨&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/qq_43069920/article/details/123100601&#34;&gt;VS2022 C#ç¼–å†™DLLå’Œè°ƒç”¨å¤–éƒ¨DLLä¸­çš„æ–¹æ³•&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
- https://hxxxer.github.io/c%23%E8%B0%83%E7%94%A8dll%E7%9A%84%E6%96%B9%E6%B3%95/ - This is a customized copyright.</description>
        </item>
    
    
    
        <item>
        <title>Linuxå‹ç¼©ä¸åŒ…å«ç»å¯¹è·¯å¾„å‘½ä»¤</title>
        <link>https://hxxxer.github.io/linux%E5%8E%8B%E7%BC%A9%E4%B8%8D%E5%8C%85%E5%90%AB%E7%BB%9D%E5%AF%B9%E8%B7%AF%E5%BE%84%E5%91%BD%E4%BB%A4/</link>
        <pubDate>Mon, 11 Nov 2024 00:16:42 +0800</pubDate>
        
        <guid>https://hxxxer.github.io/linux%E5%8E%8B%E7%BC%A9%E4%B8%8D%E5%8C%85%E5%90%AB%E7%BB%9D%E5%AF%B9%E8%B7%AF%E5%BE%84%E5%91%BD%E4%BB%A4/</guid>
        <description>é—²ç¢ https://hxxxer.github.io/linux%E5%8E%8B%E7%BC%A9%E4%B8%8D%E5%8C%85%E5%90%AB%E7%BB%9D%E5%AF%B9%E8%B7%AF%E5%BE%84%E5%91%BD%E4%BB%A4/ -&lt;p&gt;&lt;strong&gt;æœ€åç¼–è¾‘äº2024å¹´11æœˆ11æ—¥&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h1&gt;
&lt;p&gt;åœ¨GitHub actionsè‡ªåŠ¨å‘å¸ƒçš„æ—¶å€™ï¼Œéœ€è¦ä½¿ç”¨&lt;code&gt;zip&lt;/code&gt;å‘½ä»¤æ¥å‹ç¼©å‘å¸ƒæ–‡ä»¶ï¼Œä½†æ˜¯ä¼šè¿å¸¦å¾ˆå¤šä¸Šçº§ç›®å½•ä¸€èµ·å‹ç¼©ï¼Œéœ€è¦å»é™¤è¿™äº›ç›®å½•ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;æ“ä½œ&#34;&gt;æ“ä½œ&lt;/h1&gt;
&lt;p&gt;åŸæ¥çš„å‘½ä»¤æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;zip -r ShortcutVisualizer.zip ./ShortcutVisualizer/bin/Release/net6.0-windows/win-x64/publish
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·åœ¨å‹ç¼©å‡ºæ¥çš„æ—¶å€™å°±ä¼šå¸¦ä¸Š&lt;code&gt;ShortcutVisualizer/bin/Release/net6.0-windows/win-x64/publish/&lt;/code&gt;è¿™äº›æ— å…³çš„æ–‡ä»¶å¤¹ã€‚&lt;/p&gt;
&lt;p&gt;æƒ³è¦å»é™¤åªéœ€è¦å°†&lt;code&gt;-r&lt;/code&gt;æ›´æ”¹ä¸º&lt;code&gt;-rj&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;è¡¥å……&#34;&gt;è¡¥å……&lt;/h1&gt;
&lt;p&gt;ä½¿ç”¨tarå‘½ä»¤å‹ç¼©çš„è¯ï¼Œåªéœ€è¦åœ¨æœ«å°¾ä½¿ç”¨-CæŒ‡å®šæ–‡ä»¶æ‰€åœ¨ç›®å½•å°±è¡Œï¼Œå…¶æœ¬è´¨æ˜¯åˆ‡æ¢å·¥ä½œç›®å½•ï¼Œæ¥è¾¾åˆ°å·¥ä½œç›®å½•ä¹‹å‰çš„æ–‡ä»¶å¤¹ä¸å‹ç¼©çš„ç›®çš„ã€‚&lt;/p&gt;
&lt;h1 id=&#34;å‚è€ƒ&#34;&gt;å‚è€ƒ&lt;/h1&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://www.cnblogs.com/iamfy/archive/2012/11/10/2764307.html&#34;&gt;Linuxä¸‹å‹ç¼©ä¸åŒ…å«è·¯å¾„ä¿¡æ¯çš„å‹ç¼©åŒ…&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.cnblogs.com/azureology/p/13217461.html&#34;&gt;Shellåˆ›å»ºzipæ–‡ä»¶ä¸åŒ…å«å®Œæ•´è·¯å¾„æ–¹æ³•&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
- https://hxxxer.github.io/linux%E5%8E%8B%E7%BC%A9%E4%B8%8D%E5%8C%85%E5%90%AB%E7%BB%9D%E5%AF%B9%E8%B7%AF%E5%BE%84%E5%91%BD%E4%BB%A4/ - This is a customized copyright.</description>
        </item>
    
    
    
        <item>
        <title>ç¼–è¯‘mini2440çš„è™šæ‹Ÿå­—ç¬¦é©±åŠ¨</title>
        <link>https://hxxxer.github.io/%E7%BC%96%E8%AF%91mini2440%E7%9A%84%E8%99%9A%E6%8B%9F%E5%AD%97%E7%AC%A6%E9%A9%B1%E5%8A%A8/</link>
        <pubDate>Sun, 10 Nov 2024 01:36:15 +0800</pubDate>
        
        <guid>https://hxxxer.github.io/%E7%BC%96%E8%AF%91mini2440%E7%9A%84%E8%99%9A%E6%8B%9F%E5%AD%97%E7%AC%A6%E9%A9%B1%E5%8A%A8/</guid>
        <description>é—²ç¢ https://hxxxer.github.io/%E7%BC%96%E8%AF%91mini2440%E7%9A%84%E8%99%9A%E6%8B%9F%E5%AD%97%E7%AC%A6%E9%A9%B1%E5%8A%A8/ -&lt;p&gt;&lt;strong&gt;æœ€åç¼–è¾‘äº2024å¹´11æœˆ10æ—¥&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h1&gt;
&lt;p&gt;åµŒå…¥å¼çš„ç¬¬å››æ¬¡å®éªŒæ˜¯ç¼–è¯‘ä¸€ä¸ªè™šæ‹Ÿå­—ç¬¦é©±åŠ¨æ¨¡å—ï¼Œæˆ‘åœ¨å­¦æ ¡ç”µè„‘ä¸Šå¯ä»¥ç¼–è¯‘æˆé€‚åˆx86æ¶æ„çš„ç‰ˆæœ¬ï¼Œä½†æ˜¯ç¼–è¯‘æˆå¼€å‘æ¿ä¸Šçš„armæ¶æ„çš„å°±ä¸è¡Œã€‚&lt;/p&gt;
&lt;p&gt;åæ¥åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šå°è¯•äº†ä¸€ä¸‹ï¼Œåœ¨ä¸€äº›å‚è€ƒèµ„æ–™çš„å¸®åŠ©ä¸‹ï¼Œæœ€ç»ˆå®Œæˆæ—¢å®šç›®æ ‡ã€‚ç°åœ¨è®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;è™šæ‹Ÿæœºå¹³å°VBoxï¼ŒUbuntu22.04ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;é…ç½®ç¼–è¯‘ç¯å¢ƒ&#34;&gt;é…ç½®ç¼–è¯‘ç¯å¢ƒ&lt;/h1&gt;
&lt;p&gt;å°†èµ„æ–™é‡Œé¢çš„å¼€å‘æ¿linuxæºç &lt;code&gt;\FriendlyARM-2440-DVD\Linux\linux-2.6.32.2-mini2440-20150709.tgz&lt;/code&gt;è§£å‹åˆ°è™šæ‹Ÿæœºã€‚&lt;/p&gt;
&lt;p&gt;ç„¶ååœ¨è§£å‹ç›®å½•ä¸‹ï¼Œå°†&lt;code&gt;mini2440_config_t35&lt;/code&gt;å¤åˆ¶ä¸º&lt;code&gt;.config&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cp mini2440_config_t35 .config
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;make oldconfig &lt;span style=&#34;color:#99d1db;font-weight:bold&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; make prepare
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://hxxxer.github.io/images/make-oldconfig-prepare.png&#34; alt=&#34;æ‰§è¡Œmake oldconfig &amp;amp;&amp;amp; make prepare&#34;&gt;&lt;/p&gt;
&lt;p&gt;LCDå°±é€‰æ‹©&lt;code&gt;6. 3.5 inch 240X230 Toppoly LCD (FB_S3C2410_T240320)&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://hxxxer.github.io/images/LCDSelect.png&#34; alt=&#34;LCD Select&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ‰§è¡Œè¿‡ç¨‹ä¸­å¦‚æœå‡ºç°æœ‰å…³&lt;code&gt;arm-linux-gcc&lt;/code&gt;çš„æŠ¥é”™ï¼Œå°±å»æ£€æµ‹ä¸€ä¸‹&lt;code&gt;arm-linux-gcc -v&lt;/code&gt;æœ‰æ²¡æœ‰è¾“å‡ºï¼Œæ²¡æœ‰å°±é…ç½®ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;æ‰§è¡Œå®Œæˆä¹‹åï¼Œå†è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼ˆè¿™é‡Œæœ‰äº›æŠ¥é”™æ˜¯æ²¡é—®é¢˜çš„ï¼Œåªè¦éƒ½æ˜¯warningå°±è¡Œï¼‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;make scripts
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://hxxxer.github.io/images/make-scripts.png&#34; alt=&#34;make scripts&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ‰§è¡Œå®Œæˆå°±é…ç½®å¥½äº†ç¼–è¯‘ç¯å¢ƒã€‚&lt;/p&gt;
&lt;h2 id=&#34;è§£é‡Š&#34;&gt;è§£é‡Š&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;mini2440_config_t35&lt;/code&gt;å°±æ˜¯é€‚åˆå¼€å‘æ¿å±å¹•çš„é‚£ä¸ªconfigæ–‡ä»¶ï¼Œå…¶å®é‡Œé¢çš„&lt;code&gt;mini2440_config_&lt;/code&gt;æ–‡ä»¶å†…å®¹éƒ½ç›¸å·®ä¸å¤§ï¼Œåªæœ‰å±å¹•ç›¸å…³éƒ¨åˆ†æœ‰å·®åˆ«ã€‚&lt;/p&gt;
&lt;p&gt;å°†å…¶å¤åˆ¶ä¸º&lt;code&gt;.config&lt;/code&gt;æ–‡ä»¶æ˜¯ä¸ºäº†è®¾ç½®å†…æ ¸é…ç½®ä¿¡æ¯ï¼Œç¡®ä¿ç¼–è¯‘ç¯å¢ƒä¸å¼€å‘æ¿çš„å®é™…æƒ…å†µç›¸åŒ¹é…ã€‚ï¼ˆå…¶å®è¿™æ®µè¯æˆ‘æ˜¯é—®AIçš„ï¼Œæˆ‘ä¹Ÿä¸æ˜¯å¾ˆæ‡‚ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;code&gt;make oldconfig&lt;/code&gt;æ˜¯ä¸ºäº†æŸ¥çœ‹æ˜¯å¦æœ‰æ–°çš„é…ç½®ä¿¡æ¯è¦å¤„ç†ï¼Œè¿™é‡Œæ„Ÿè§‰æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œä½†æ˜¯ç½‘ä¸Šéƒ½åšäº†è¿™ä¸ªğŸ˜‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;make prepare&lt;/code&gt;æ˜¯ä¸ºäº†å‡†å¤‡ä¹‹åç¼–è¯‘è¦ç”¨åˆ°çš„æ–‡ä»¶å’Œç¬¦å·é“¾æ¥ï¼Œä»¥åŠå¤„ç†ä¸€äº›ä¾èµ–å…³ç³»ï¼Œä»¥ç¡®ä¿æ‰€éœ€çš„å·¥å…·å’Œèµ„æºéƒ½å·²å‡†å¤‡å¥½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;make scripts&lt;/code&gt;æ˜¯ä¸ºäº†ç¼–è¯‘ä¸€äº›ä¹‹åç¼–è¯‘è¦ç”¨åˆ°çš„è„šæœ¬æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;æ›´æ”¹é©±åŠ¨æºç &#34;&gt;æ›´æ”¹é©±åŠ¨æºç &lt;/h1&gt;
&lt;p&gt;åŸæ¥çš„æºç &lt;code&gt;chrdevbase.c&lt;/code&gt;æœ‰äº›é—®é¢˜ï¼Œå¤´æ–‡ä»¶çš„å¼•ç”¨å¹¶ä¸å¯¹ï¼Œéœ€è¦æ”¹æˆä¸‹é¢çš„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#737994;font-weight:bold;font-style:italic&#34;&gt;&amp;lt;linux/kernel.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#737994;font-weight:bold;font-style:italic&#34;&gt;&amp;lt;linux/fs.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#737994;font-weight:bold;font-style:italic&#34;&gt;&amp;lt;linux/init.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#737994;font-weight:bold;font-style:italic&#34;&gt;&amp;lt;linux/module.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#737994;font-weight:bold;font-style:italic&#34;&gt;&amp;lt;linux/uaccess.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œçš„å¼•ç”¨æˆ‘æ˜¯å¤åˆ¶è€å¸ˆå‘çš„&lt;a href=&#34;https://blog.csdn.net/weixin_46829095/article/details/128768229&#34;&gt;é‚£ç¯‡CSDNåšå®¢&lt;/a&gt;çš„ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;æ›´æ”¹makefiletxt&#34;&gt;æ›´æ”¹makefile.txt&lt;/h1&gt;
&lt;p&gt;è¿™ä¸ªæ–‡ä»¶å†…å®¹ä¹Ÿæœ‰äº›é—®é¢˜ï¼Œæ”¹æˆä¸‹é¢çš„å°±è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-makefile&#34; data-lang=&#34;makefile&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f2d5cf&#34;&gt;KERNELDIR&lt;/span&gt; &lt;span style=&#34;color:#99d1db;font-weight:bold&#34;&gt;:=&lt;/span&gt; /home/hx/linux/mini2440-lib/linux-2.6.32.2
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f2d5cf&#34;&gt;ENV&lt;/span&gt;&lt;span style=&#34;color:#99d1db;font-weight:bold&#34;&gt;:=&lt;/span&gt;&lt;span style=&#34;color:#f2d5cf&#34;&gt;ARCH&lt;/span&gt;&lt;span style=&#34;color:#99d1db;font-weight:bold&#34;&gt;=&lt;/span&gt;arm &lt;span style=&#34;color:#f2d5cf&#34;&gt;CROSS_COMPILE&lt;/span&gt;&lt;span style=&#34;color:#99d1db;font-weight:bold&#34;&gt;=&lt;/span&gt;arm-none-linux-gnueabi-
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f2d5cf&#34;&gt;obj-m&lt;/span&gt; &lt;span style=&#34;color:#99d1db;font-weight:bold&#34;&gt;:=&lt;/span&gt; chrdevbase.o
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8caaee&#34;&gt;all&lt;/span&gt;&lt;span style=&#34;color:#99d1db;font-weight:bold&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#ca9ee6&#34;&gt;$(&lt;/span&gt;MAKE&lt;span style=&#34;color:#ca9ee6&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ca9ee6&#34;&gt;$(&lt;/span&gt;ENV&lt;span style=&#34;color:#ca9ee6&#34;&gt;)&lt;/span&gt; -C &lt;span style=&#34;color:#ca9ee6&#34;&gt;$(&lt;/span&gt;KERNELDIR&lt;span style=&#34;color:#ca9ee6&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f2d5cf&#34;&gt;M&lt;/span&gt;&lt;span style=&#34;color:#99d1db;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ca9ee6&#34;&gt;$(&lt;/span&gt;shell &lt;span style=&#34;color:#99d1db&#34;&gt;pwd&lt;/span&gt;&lt;span style=&#34;color:#ca9ee6&#34;&gt;)&lt;/span&gt; modules
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8caaee&#34;&gt;clean&lt;/span&gt;&lt;span style=&#34;color:#99d1db;font-weight:bold&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#ca9ee6&#34;&gt;$(&lt;/span&gt;MAKE&lt;span style=&#34;color:#ca9ee6&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ca9ee6&#34;&gt;$(&lt;/span&gt;ENV&lt;span style=&#34;color:#ca9ee6&#34;&gt;)&lt;/span&gt; -C &lt;span style=&#34;color:#ca9ee6&#34;&gt;$(&lt;/span&gt;KERNELDIR&lt;span style=&#34;color:#ca9ee6&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f2d5cf&#34;&gt;M&lt;/span&gt;&lt;span style=&#34;color:#99d1db;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ca9ee6&#34;&gt;$(&lt;/span&gt;shell &lt;span style=&#34;color:#99d1db&#34;&gt;pwd&lt;/span&gt;&lt;span style=&#34;color:#ca9ee6&#34;&gt;)&lt;/span&gt; clean
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è€Œä¸”æ–‡ä»¶åä¹Ÿè¦æ”¹æˆMakefileï¼Œæ³¨æ„ä¸€å®šè¦å¤§å†™Må¼€å¤´ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è¡¥å……&#34;&gt;è¡¥å……&lt;/h2&gt;
&lt;p&gt;åæ¥å‘ç°ä¸Šé¢çš„æ›´æ”¹çš„æ·»åŠ çš„&lt;code&gt;ENV&lt;/code&gt;ä¸æ˜¯å¿…è¦çš„ï¼Œè¿™ä¸ªåªæ˜¯ç”¨åœ¨ç¼–è¯‘çš„gccç‰ˆæœ¬å’Œå¼€å‘æ¿çš„ä¸å¯¹çš„æ—¶å€™ç”¨çš„ï¼Œå…·ä½“å¯ä»¥çœ‹&lt;a href=&#34;https://blog.csdn.net/qq_41115702/article/details/104655050&#34;&gt;è¿™é‡Œ&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ç¼–è¯‘åŠæµ‹è¯•&#34;&gt;ç¼–è¯‘åŠæµ‹è¯•&lt;/h1&gt;
&lt;p&gt;åœ¨é©±åŠ¨æºç ç›®å½•ä¸‹æ‰§è¡Œ&lt;code&gt;make&lt;/code&gt;å³å¯ï¼Œå¦‚æœå‰é¢æ²¡æœ‰é—®é¢˜ï¼Œé‚£å°±å¯ä»¥çœ‹åˆ°&lt;code&gt;chrdevbase.ko&lt;/code&gt;äº†ã€‚&lt;/p&gt;
&lt;p&gt;åç»­çš„é©±åŠ¨æµ‹è¯•å°±æŒ‰å‚è€ƒä¸€è¿›è¡Œã€‚&lt;/p&gt;
&lt;h1 id=&#34;å‚è€ƒ&#34;&gt;å‚è€ƒ&lt;/h1&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/qq_41753052/article/details/109138710&#34;&gt;åµŒå…¥å¼linuxé©±åŠ¨å¼€å‘-å­—ç¬¦è®¾å¤‡é©±åŠ¨&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/qq_28576837/article/details/142790697&#34;&gt;åŠ è½½é©±åŠ¨æ¨¡å—çš„ä¸¤ç§æ–¹æ³•&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/weixin_42109053/article/details/124526066&#34;&gt;linux make modules å‘½ä»¤è¯¦è§£&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/cha1290878789/article/details/121453401&#34;&gt;Linuxé©±åŠ¨â€”â€”ç¼–è¯‘é©±åŠ¨çš„ä¸¤ç§å½¢å¼ï¼ˆå†…æ ¸ç›®å½•å¤–ã€å†…æ ¸ç›®å½•ä¸­ï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/Zander0/article/details/134871301&#34;&gt;Linuxé©±åŠ¨å®‰è£…é‡åˆ°çš„é—®é¢˜ï¼ˆKernel configuration is invalidï¼‰ï¼ˆInvalid module formatï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/u011202336/article/details/9172095&#34;&gt;é©±åŠ¨ç¼–è¯‘é”™è¯¯ /bin/sh: scripts/mod/modpost&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/qq_41115702/article/details/104655050&#34;&gt;ç¼–è¯‘å†…æ ¸é©±åŠ¨æ¨¡å—å‡ºé”™ï¼ˆerror: asm/xxx: No such file or directoryï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/daocaokafei/article/details/115472862&#34;&gt;Linuxæ¨¡å—æ–‡ä»¶å¦‚ä½•ç¼–è¯‘åˆ°å†…æ ¸å’Œç‹¬ç«‹ç¼–è¯‘æˆæ¨¡å—ï¼Ÿ&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
- https://hxxxer.github.io/%E7%BC%96%E8%AF%91mini2440%E7%9A%84%E8%99%9A%E6%8B%9F%E5%AD%97%E7%AC%A6%E9%A9%B1%E5%8A%A8/ - This is a customized copyright.</description>
        </item>
    
    
    
        <item>
        <title>C#è·å–æ–‡ä»¶çš„å›¾æ ‡</title>
        <link>https://hxxxer.github.io/net%E8%8E%B7%E5%8F%96dll%E4%B8%AD%E7%9A%84%E5%9B%BE%E6%A0%87/</link>
        <pubDate>Sat, 09 Nov 2024 16:24:42 +0800</pubDate>
        
        <guid>https://hxxxer.github.io/net%E8%8E%B7%E5%8F%96dll%E4%B8%AD%E7%9A%84%E5%9B%BE%E6%A0%87/</guid>
        <description>é—²ç¢ https://hxxxer.github.io/net%E8%8E%B7%E5%8F%96dll%E4%B8%AD%E7%9A%84%E5%9B%BE%E6%A0%87/ -&lt;p&gt;&lt;strong&gt;æœ€åç¼–è¾‘äº2024å¹´11æœˆ24æ—¥&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h1&gt;
&lt;p&gt;åœ¨æé‚£ä¸ªå¿«æ·æ–¹å¼å¯è§†åŒ–çš„netç¨‹åºæ—¶ï¼Œå› ä¸ºå›¾æ ‡åˆ—è¡¨ç¬¬ä¸€ä¸ªæ˜¯ç™¾åº¦ç½‘ç›˜çš„å›¾æ ‡ï¼Œè€Œæ–‡ä»¶å¤¹æ²¡æœ‰æŒ‡å®šå›¾æ ‡ï¼Œå°±é»˜è®¤ç¬¬ä¸€ä¸ªã€‚ç»“æœå°±æ˜¯ä¸€å †ç™¾åº¦ç½‘ç›˜ğŸ˜…ã€‚&lt;/p&gt;
&lt;p&gt;å°±ç®—æŒ‡å®šæ–‡ä»¶å¤¹èŠ‚ç‚¹çš„å›¾æ ‡ç´¢å¼•ä¸º-1ä¹Ÿè¿˜æ˜¯è¿™æ ·ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œæ‰€ä»¥å°±è¦æä¸€ä¸ªæ–‡ä»¶å¤¹å›¾æ ‡ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢çš„æ–¹æ³•éƒ½å¯ä»¥æå–å¯æ‰§è¡Œæ–‡ä»¶ã€DLL æˆ–å›¾æ ‡æ–‡ä»¶é‡Œé¢çš„å›¾æ ‡ï¼Œä½†æ˜¯èƒ½æå–ä»»æ„æ–‡ä»¶çš„&lt;del&gt;åªæœ‰æ–¹æ³•ä¸‰&lt;/del&gt;ï¼Œç°åœ¨æœ‰æ–¹æ³•ä¸‰å’Œæ–¹æ³•äº”äº†ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;æ–¹æ³•ä¸€&#34;&gt;æ–¹æ³•ä¸€&lt;/h1&gt;
&lt;p&gt;ä¸»è¦æ˜¯é€šè¿‡shell32 APIçš„ExtractIconå‡½æ•°æ¥æå–ï¼Œç„¶åæ–‡ä»¶å¤¹å›¾æ ‡çš„ç´¢å¼•åœ¨shell32.dllé‡Œé¢æ˜¯3ã€‚ä»£ç å¦‚ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e78284&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#ca9ee6&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#e5c890&#34;&gt;ShellIcon&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8caaee&#34;&gt;    [DllImport(&amp;#34;shell32.dll&amp;#34;, CharSet = CharSet.Auto)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;extern&lt;/span&gt; IntPtr ExtractIcon(IntPtr hInst, &lt;span style=&#34;color:#e78284&#34;&gt;string&lt;/span&gt; lpszExeFileName, &lt;span style=&#34;color:#e78284&#34;&gt;int&lt;/span&gt; nIconIndex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;static&lt;/span&gt; Icon? GetFolderIcon(&lt;span style=&#34;color:#e78284&#34;&gt;int&lt;/span&gt; index)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// ä»shell32.dllæå–æ–‡ä»¶å¤¹å›¾æ ‡ (ç´¢å¼•3æ˜¯æ ‡å‡†çš„å…³é—­æ–‡ä»¶å¤¹å›¾æ ‡ï¼Œä»0å¼€å§‹)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        IntPtr hIcon = ExtractIcon(IntPtr.Zero, &lt;span style=&#34;color:#a6d189&#34;&gt;&amp;#34;shell32.dll&amp;#34;&lt;/span&gt;, index);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ca9ee6&#34;&gt;if&lt;/span&gt; (hIcon != IntPtr.Zero)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ca9ee6&#34;&gt;return&lt;/span&gt; Icon.FromHandle(hIcon);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ca9ee6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ef9f76&#34;&gt;null&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.......
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// æ·»åŠ æ–‡ä»¶å¤¹å›¾æ ‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Icon folderIcon = ShellIcon.GetFolderIcon(&lt;span style=&#34;color:#ef9f76&#34;&gt;3&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ca9ee6&#34;&gt;if&lt;/span&gt; (folderIcon != &lt;span style=&#34;color:#ef9f76&#34;&gt;null&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    imageList1.Images.Add(&lt;span style=&#34;color:#a6d189&#34;&gt;&amp;#34;folder&amp;#34;&lt;/span&gt;, folderIcon);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ ¹æ®å¾®è½¯çš„å®˜ç½‘ä¸­shell32é‡Œé¢çš„å‡½æ•°ä»‹ç»ï¼ŒExtractIconExä¹Ÿå¯ä»¥ï¼Œè€Œä¸”è¿˜å¯ä»¥åŒæ—¶è·å–å¤§å°å›¾æ ‡ï¼Œä½†æ˜¯ä½¿ç”¨èµ·æ¥ç•¥æ˜¾éº»çƒ¦ï¼Œéœ€è¦ä¼ å…¥å›¾æ ‡æ•°ç»„çš„å¥æŸ„ï¼ˆè¯´æ˜¯æ•°ç»„æ˜¯å› ä¸ºè¿™ä¸ªå‡½æ•°å¯ä»¥æå–å¤šä¸ªå›¾æ ‡ï¼‰ï¼Œè€Œä¸”è·å–å®Œä¹‹åè¦å…ˆä»å¥æŸ„åˆ›å»ºå›¾æ ‡- å¤åˆ¶å›¾æ ‡ï¼Œç„¶åæ¶ˆé™¤å¥æŸ„ã€‚ä¸‹é¢æ˜¯å‡½æ•°çš„ä½¿ç”¨ä¾‹å­ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8caaee&#34;&gt;[DllImport(&amp;#34;shell32.dll&amp;#34;, CharSet = CharSet.Unicode)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e78284&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;extern&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;uint&lt;/span&gt; ExtractIconEx(&lt;span style=&#34;color:#e78284&#34;&gt;string&lt;/span&gt; lpszFile, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;int&lt;/span&gt; nIconIndex, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ca9ee6&#34;&gt;out&lt;/span&gt; IntPtr phiconLarge, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ca9ee6&#34;&gt;out&lt;/span&gt; IntPtr phiconSmall, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;uint&lt;/span&gt; nIcons);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8caaee&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8caaee&#34;&gt;[DllImport(&amp;#34;user32.dll&amp;#34;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e78284&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;extern&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;bool&lt;/span&gt; DestroyIcon(IntPtr hIcon);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e78284&#34;&gt;uint&lt;/span&gt; iconsExtracted = ExtractIconEx(dllPath, &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// æ–‡ä»¶è·¯å¾„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    index, &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// å›¾æ ‡èµ·å§‹ç´¢å¼•ï¼Œæ³¨æ„æ˜¯ä»0å¼€å§‹çš„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ca9ee6&#34;&gt;out&lt;/span&gt; largeIconHandle, &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// å¤§å›¾æ ‡æ•°ç»„å¥æŸ„0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ca9ee6&#34;&gt;out&lt;/span&gt; smallIconHandle, &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ef9f76&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// æå–å›¾æ ‡æ•°);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// ä»å¥æŸ„åˆ›å»ºIcon&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Icon icon = Icon.FromHandle(largeIconHandle);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// åˆ›å»ºiconçš„å…‹éš†ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å®‰å…¨åœ°é”€æ¯åŸå§‹å¥æŸ„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Icon clonedIcon = (Icon)icon.Clone();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// æ¸…ç†èµ„æº&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;DestroyIcon(largeIconHandle);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å‚è€ƒ&#34;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://learn.microsoft.com/zh-cn/windows/win32/api/shellapi/nf-shellapi-extracticona&#34;&gt;ExtractIcon&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://learn.microsoft.com/zh-cn/windows/win32/api/shellapi/nf-shellapi-extracticonexa&#34;&gt;ExtractIconEx&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h1 id=&#34;æ–¹æ³•äºŒ&#34;&gt;æ–¹æ³•äºŒ&lt;/h1&gt;
&lt;p&gt;è¿˜å¯ä»¥ä½¿ç”¨shell32é‡Œé¢çš„SHDefExtractIconï¼Œè¿™ä¸ªä¹Ÿéœ€è¦æ¸…é™¤å¥æŸ„:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8caaee&#34;&gt;[DllImport(&amp;#34;shell32.dll&amp;#34;, CharSet = CharSet.Auto)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e78284&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;extern&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;int&lt;/span&gt; SHDefExtractIcon(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;string&lt;/span&gt; pszIconFile,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;int&lt;/span&gt; iIndex,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;uint&lt;/span&gt; flags,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ca9ee6&#34;&gt;out&lt;/span&gt; IntPtr phiconLarge,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ca9ee6&#34;&gt;out&lt;/span&gt; IntPtr phiconSmall,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;uint&lt;/span&gt; nIconSize);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8caaee&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8caaee&#34;&gt;[DllImport(&amp;#34;user32.dll&amp;#34;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e78284&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;extern&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;bool&lt;/span&gt; DestroyIcon(IntPtr hIcon);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// ä»shell32.dllæå–æ–‡ä»¶å¤¹å›¾æ ‡ (ç´¢å¼•3æ˜¯æ ‡å‡†æ–‡ä»¶å¤¹)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e78284&#34;&gt;int&lt;/span&gt; result = SHDefExtractIcon(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6d189&#34;&gt;&amp;#34;shell32.dll&amp;#34;&lt;/span&gt;,      &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// å›¾æ ‡æ–‡ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ef9f76&#34;&gt;3&lt;/span&gt;,                  &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// å›¾æ ‡ç´¢å¼•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ef9f76&#34;&gt;0&lt;/span&gt;,                  &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// æ ‡å¿—&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ca9ee6&#34;&gt;out&lt;/span&gt; hIconLarge,     &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// å¤§å›¾æ ‡å¥æŸ„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ca9ee6&#34;&gt;out&lt;/span&gt; hIconSmall,     &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// å°å›¾æ ‡å¥æŸ„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ef9f76&#34;&gt;0&lt;/span&gt;                   &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// ä½¿ç”¨é»˜è®¤å°ºå¯¸);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸è¿‡é‚£ä¸ª&lt;strong&gt;nIconSize&lt;/strong&gt;æˆ‘æ²¡æœ‰ææ‡‚ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‚è€ƒ-1&#34;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://learn.microsoft.com/zh-cn/windows/win32/api/shlobj_core/nf-shlobj_core-shdefextracticonw&#34;&gt;SHDefExtractIcon&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h1 id=&#34;æ–¹æ³•ä¸‰&#34;&gt;æ–¹æ³•ä¸‰&lt;/h1&gt;
&lt;p&gt;è¿™ä¸ªæ˜¯ä½¿ç”¨shell32çš„&lt;strong&gt;SHGetFileInfo&lt;/strong&gt;å‡½æ•°ï¼ŒåŠ ä¸Š&lt;strong&gt;SHFILEINFO&lt;/strong&gt;ç»“æ„çš„å¼•ç”¨å˜é‡ï¼ˆå¼•ç”¨å°±æ˜¯å‡½æ•°å†…éƒ¨å¯¹å˜é‡æœ¬èº«ä¿®æ”¹ï¼Œæœ‰ç‚¹ç±»ä¼¼ä¼ æŒ‡é’ˆè¿›å»ï¼‰å’Œæ ‡å¿—ç»„åˆï¼Œå…·ä½“çš„æ ‡å¿—å†…å®¹å¯ä»¥å»å¾®è½¯çš„å®˜ç½‘çœ‹ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ–¹æ³•å°±å¯ä»¥è·å–ä»»æ„æ–‡ä»¶çš„å›¾æ ‡ã€‚ä½†æ˜¯æˆ‘ä¸çŸ¥é“æ€ä¹ˆè¯»å–shell32.dllé‡Œé¢çš„å›¾æ ‡ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8caaee&#34;&gt;[StructLayout(LayoutKind.Sequential)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e78284&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#ca9ee6&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#e5c890&#34;&gt;SHFILEINFO&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;public&lt;/span&gt; IntPtr hIcon;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;int&lt;/span&gt; iIcon;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;uint&lt;/span&gt; dwAttributes;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8caaee&#34;&gt;    [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 260)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;string&lt;/span&gt; szDisplayName;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8caaee&#34;&gt;    [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 80)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;string&lt;/span&gt; szTypeName;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8caaee&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8caaee&#34;&gt;[DllImport(&amp;#34;shell32.dll&amp;#34;, CharSet = CharSet.Auto)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e78284&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;extern&lt;/span&gt; IntPtr SHGetFileInfo(&lt;span style=&#34;color:#e78284&#34;&gt;string&lt;/span&gt; pszPath, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;uint&lt;/span&gt; dwFileAttributes,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ca9ee6&#34;&gt;ref&lt;/span&gt; SHFILEINFO psfi, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;uint&lt;/span&gt; cbSizeFileInfo, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;uint&lt;/span&gt; uFlags);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8caaee&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8caaee&#34;&gt;[DllImport(&amp;#34;user32.dll&amp;#34;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e78284&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;extern&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;bool&lt;/span&gt; DestroyIcon(IntPtr hIcon);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e78284&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;uint&lt;/span&gt; SHGFI_ICON = &lt;span style=&#34;color:#ef9f76&#34;&gt;0x100&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e78284&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;uint&lt;/span&gt; SHGFI_LARGEICON = &lt;span style=&#34;color:#ef9f76&#34;&gt;0x0&lt;/span&gt;;    &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// å¤§å›¾æ ‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e78284&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;uint&lt;/span&gt; SHGFI_SMALLICON = &lt;span style=&#34;color:#ef9f76&#34;&gt;0x1&lt;/span&gt;;    &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// å°å›¾æ ‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;SHFILEINFO shfi = &lt;span style=&#34;color:#ca9ee6&#34;&gt;new&lt;/span&gt; SHFILEINFO();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e78284&#34;&gt;uint&lt;/span&gt; flags = SHGFI_ICON | SHGFI_LARGEICON;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// è·å–å›¾æ ‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;IntPtr result = SHGetFileInfo(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6d189&#34;&gt;@&amp;#34;D:\è½¯ä»¶\tModLoader.lnk&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    FILE_ATTRIBUTE_DIRECTORY,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ca9ee6&#34;&gt;ref&lt;/span&gt; shfi,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (&lt;span style=&#34;color:#e78284&#34;&gt;uint&lt;/span&gt;)Marshal.SizeOf(shfi),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    flags);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å‚è€ƒ-2&#34;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://learn.microsoft.com/zh-cn/windows/win32/api/shellapi/nf-shellapi-shgetfileinfoa&#34;&gt;SHGetFileInfo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://learn.microsoft.com/zh-cn/windows/win32/api/shellapi/ns-shellapi-shfileinfoa&#34;&gt;SHFILEINFO&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h1 id=&#34;æ–¹æ³•å››&#34;&gt;æ–¹æ³•å››&lt;/h1&gt;
&lt;p&gt;è¿™ä¸ªæ–¹æ³•å°±å¯ä»¥è·å–æ›´å¤§å°ºå¯¸çš„å›¾æ ‡ï¼Œæ¯”å¦‚256*256ï¼Œä½¿ç”¨çš„æ˜¯user32.dllé‡Œé¢çš„PrivateExtractIconså‡½æ•°ï¼Œä¸è¿‡è¿™ä¸ªå‡½æ•°å¯èƒ½ä¼šåœ¨åç»­Windowsç‰ˆæœ¬ç§»é™¤ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8caaee&#34;&gt;[DllImport(&amp;#34;User32.dll&amp;#34;, CharSet = CharSet.Auto)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e78284&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;extern&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;int&lt;/span&gt; PrivateExtractIcons(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;string&lt;/span&gt; lpszFile, &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;//æ–‡ä»¶åå¯ä»¥æ˜¯exe,dll,ico,cur,ani,bmp&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;int&lt;/span&gt; nIconIndex,  &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;//ä»ç¬¬å‡ ä¸ªå›¾æ ‡å¼€å§‹è·å–&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;int&lt;/span&gt; cxIcon,      &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;//è·å–å›¾æ ‡çš„å°ºå¯¸x&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;int&lt;/span&gt; cyIcon,      &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;//è·å–å›¾æ ‡çš„å°ºå¯¸y&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    IntPtr[] phicon, &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;//è·å–åˆ°çš„å›¾æ ‡æŒ‡é’ˆæ•°ç»„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;int&lt;/span&gt;[] piconid,   &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;//å›¾æ ‡å¯¹åº”çš„èµ„æºç¼–å·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;int&lt;/span&gt; nIcons,      &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;//æŒ‡å®šè·å–çš„å›¾æ ‡æ•°é‡ï¼Œä»…å½“æ–‡ä»¶ç±»å‹ä¸º.exe å’Œ .dllæ—¶å€™å¯ç”¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;int&lt;/span&gt; flags        &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;//æ ‡å¿—ï¼Œé»˜è®¤0å°±å¯ä»¥ï¼Œå…·ä½“å¯ä»¥çœ‹LoadImageå‡½æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8caaee&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8caaee&#34;&gt;[DllImport(&amp;#34;user32.dll&amp;#34;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e78284&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;extern&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;bool&lt;/span&gt; DestroyIcon(IntPtr hIcon);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// ä»shell32.dllæå–æ–‡ä»¶å¤¹å›¾æ ‡ (ç´¢å¼•3æ˜¯æ ‡å‡†æ–‡ä»¶å¤¹)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e78284&#34;&gt;int&lt;/span&gt; result = PrivateExtractIcons(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6d189&#34;&gt;&amp;#34;shell32.dll&amp;#34;&lt;/span&gt;,      &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// å›¾æ ‡æ–‡ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ef9f76&#34;&gt;3&lt;/span&gt;,                  &lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// å›¾æ ‡ç´¢å¼•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ef9f76&#34;&gt;32&lt;/span&gt;, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ef9f76&#34;&gt;32&lt;/span&gt;, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    hIcons,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ids, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ef9f76&#34;&gt;1&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ef9f76&#34;&gt;0&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å‚è€ƒ-3&#34;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://www.cnblogs.com/JmlSaul/p/7515885.html&#34;&gt;C# è·å–exeã€dllä¸­çš„å›¾æ ‡ï¼Œæ”¯æŒè·å–256x256åˆ†è¾¨ç‡&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://learn.microsoft.com/zh-cn/windows/win32/api/winuser/nf-winuser-privateextracticonsw&#34;&gt;PrivateExtractIcons&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;æ–¹æ³•äº”&#34;&gt;æ–¹æ³•äº”&lt;/h1&gt;
&lt;p&gt;è¿™ä¸ªæ–¹æ³•æ˜¯æœç´¢c#çš„ExtractAssociatedIconå‡½æ•°çš„åº•å±‚æ—¶çŸ¥é“çš„ï¼Œå°±æ˜¯shell32çš„ExtractAssociatedIconã€‚ï¼ˆè™½ç„¶ä¸çŸ¥é“c#çš„åº•å±‚æ˜¯ä¸æ˜¯è¿™ä¸ªï¼‰ï¼Œä½†æ˜¯å¯ä»¥æå–æ–‡ä»¶å›¾æ ‡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#737994;font-style:italic&#34;&gt;// å¯¼å…¥shell32.dllçš„ExtractAssociatedIconå‡½æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8caaee&#34;&gt;[DllImport(&amp;#34;shell32.dll&amp;#34;, CharSet = CharSet.Unicode)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e78284&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;extern&lt;/span&gt; IntPtr ExtractAssociatedIcon(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    IntPtr hInst,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e78284&#34;&gt;string&lt;/span&gt; lpIconPath, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ca9ee6&#34;&gt;ref&lt;/span&gt; &lt;span style=&#34;color:#e78284&#34;&gt;ushort&lt;/span&gt; lpiIcon);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e78284&#34;&gt;ushort&lt;/span&gt; iconIndex = &lt;span style=&#34;color:#ef9f76&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;IntPtr hInst = IntPtr.Zero;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;IntPtr hIcon = ExtractAssociatedIcon(hInst, filePath, &lt;span style=&#34;color:#ca9ee6&#34;&gt;ref&lt;/span&gt; iconIndex);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å‚è€ƒ-4&#34;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://learn.microsoft.com/zh-cn/windows/win32/api/shellapi/nf-shellapi-extractassociatediconw&#34;&gt;ExtractAssociatedIconW å‡½æ•°&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;å‚è€ƒ-5&#34;&gt;å‚è€ƒ&lt;/h1&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;Claude&lt;del&gt;åˆæ˜¯AIğŸ˜‹&lt;/del&gt;&lt;/p&gt;
&lt;/blockquote&gt;
- https://hxxxer.github.io/net%E8%8E%B7%E5%8F%96dll%E4%B8%AD%E7%9A%84%E5%9B%BE%E6%A0%87/ - This is a customized copyright.</description>
        </item>
    
    
    
        <item>
        <title>NETä½¿ç”¨Github Actions</title>
        <link>https://hxxxer.github.io/net%E4%BD%BF%E7%94%A8github-actions/</link>
        <pubDate>Fri, 08 Nov 2024 01:53:42 +0800</pubDate>
        
        <guid>https://hxxxer.github.io/net%E4%BD%BF%E7%94%A8github-actions/</guid>
        <description>é—²ç¢ https://hxxxer.github.io/net%E4%BD%BF%E7%94%A8github-actions/ -&lt;p&gt;&lt;strong&gt;æœ€åç¼–è¾‘äº2024å¹´11æœˆ09æ—¥&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h1&gt;
&lt;p&gt;æ—©å°±çŸ¥é“GitHub actionså¾ˆæ–¹ä¾¿å¥½ç”¨ï¼Œæ‰€ä»¥æˆ‘æƒ³æä¸€ä¸ªã€‚ä¸è¿‡é‡åˆ°äº†å¥½å¤šå›°éš¾ï¼Œç°åœ¨åŸºæœ¬æå®šäº†ï¼Œè®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;ä¸»è¦çš„éš¾ç‚¹æ˜¯ymlæ–‡ä»¶çš„ç¼–å†™ï¼Œæ¯•ç«Ÿæ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦ï¼Œè„‘å­æœ‰ç‚¹æ··ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;æ–°å»ºå·¥ä½œæµ&#34;&gt;æ–°å»ºå·¥ä½œæµ&lt;/h1&gt;
&lt;p&gt;å°±ç›´æ¥åœ¨actionsé‡Œé¢æ–°å»ºå°±è¡Œï¼ŒGitHubæœ‰net desktopæ¨¡æ¿ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ymlæ–‡ä»¶çš„ç†è§£&#34;&gt;ymlæ–‡ä»¶çš„ç†è§£&lt;/h1&gt;
&lt;p&gt;å¼€å¤´çš„onæ˜¯æŒ‡å½“å‘ç”Ÿä»€ä¹ˆçš„æ—¶å€™å¼€å§‹è¿™æ¡å·¥ä½œæµï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yml&#34; data-lang=&#34;yml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ca9ee6&#34;&gt;on&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#ca9ee6&#34;&gt;push&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ca9ee6&#34;&gt;tags&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - v*
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å°±æ˜¯åœ¨pushä¸”tagæ˜¯ä»¥vå¼€å¤´æ—¶å¯åŠ¨ã€‚æ³¨æ„pushå†…çš„æ¯ä¸ªæ¡ä»¶æ˜¯æˆ–å…³ç³»ï¼Œåªè¦æ»¡è¶³ä¸€ä¸ªå°±å¼€å§‹å·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åå°±æ˜¯å…·ä½“å·¥ä½œå†…å®¹ï¼Œæ˜¯ä¸€ç§å¤šçº§åˆ—è¡¨ï¼Œæ¯ä¸€çº§éƒ½å¯ä»¥æœ‰å¤šä¸ªã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®å·¥ä½œæµç¨‹å°±æ˜¯å¤§æ¦‚æŒ‰é¡ºåºè¿è¡Œstepsï¼Œè¿™é‡Œå¤§æ¦‚æ˜¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯åŠ¨ç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;æ‹‰å–ä»“åº“&lt;/li&gt;
&lt;li&gt;å®‰è£…net core&lt;/li&gt;
&lt;li&gt;neté¡¹ç›®åˆå§‹åŒ–ä¾èµ–&lt;/li&gt;
&lt;li&gt;æ„å»ºreleaseç‰ˆæœ¬&lt;/li&gt;
&lt;li&gt;å‹ç¼©æˆzip&lt;/li&gt;
&lt;li&gt;å‘å¸ƒåˆ°release&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ„Ÿè§‰å°±åƒè‡ªåŠ¨æ‰§è¡ŒæŒ‡ä»¤ã€‚&lt;/p&gt;
&lt;h2 id=&#34;stepså±æ€§ç†è§£&#34;&gt;stepså±æ€§ç†è§£&lt;/h2&gt;
&lt;p&gt;æœ€æœ«çº§å°±æ˜¯stepsï¼Œé‡Œé¢çš„å±æ€§æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;name&lt;/strong&gt;ï¼Œå°±æ˜¯åå­—ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;id&lt;/strong&gt;ï¼Œéå¿…è¦ï¼Œå…¶å®ƒåœ°æ–¹å¼•ç”¨æ—¶å€™ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;uses&lt;/strong&gt;ï¼Œå¯ä»¥é€‰æ‹©GitHubä¸Šç°æœ‰çš„æ“ä½œï¼Œæ¯”å¦‚è·å–ä»“åº“å†…å®¹ã€å®‰è£…net voreã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;with&lt;/strong&gt;ï¼Œä¸€èˆ¬æ˜¯ä½¿ç”¨usesæ—¶é…ç½®å…·ä½“çš„å‚æ•°ï¼Œæ¯”å¦‚å®‰è£…net coreæ—¶æŒ‡å®šç‰ˆæœ¬ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;run&lt;/strong&gt;ï¼Œå°±æ˜¯æ‰§è¡ŒæŒ‡ä»¤ï¼Œä¸åŒå¹³å°ï¼ˆwinï¼ŒUbuntuï¼‰ä½¿ç”¨çš„ä¸åŒ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;env&lt;/strong&gt;ï¼Œä¸€äº›å˜é‡ï¼Œé€šè¿‡$env:&amp;lt;åå­—&amp;gt;ï¼Œæ¥å¼•ç”¨ã€‚ï¼ˆå¥½åƒåœ¨ä¸€äº›å­—ç¬¦ä¸²é‡Œé¢ä¸èƒ½è¢«æ­£ç¡®è§£æï¼‰ï¼Œæ¯”å¦‚ï¼š
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yml&#34; data-lang=&#34;yml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ca9ee6&#34;&gt;run&lt;/span&gt;: |&lt;span style=&#34;color:#737994&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#737994&#34;&gt;    $zipFilePath = &amp;#34;${{ github.workspace }}\$env:&amp;#34;&lt;/span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å‘å¸ƒåˆ°release&#34;&gt;å‘å¸ƒåˆ°release&lt;/h2&gt;
&lt;p&gt;è¿™è¾¹æ˜¯é‡ç‚¹ï¼Œæˆ‘æ˜¯å…ˆæäº†ä¸€ä¸ªç»™è¿™ä¸ªactionç”¨çš„tokenï¼Œç„¶åå†åœ¨ymlæ–‡ä»¶é‡Œé¢è®¾å®šstepsã€‚&lt;/p&gt;
&lt;h3 id=&#34;token&#34;&gt;TOKEN&lt;/h3&gt;
&lt;h4 id=&#34;æ–°å»ºtoken&#34;&gt;&lt;del&gt;æ–°å»ºTOKEN&lt;/del&gt;&lt;/h4&gt;
&lt;p&gt;åœ¨å¤´åƒ - &lt;strong&gt;setting&lt;/strong&gt; - ä¾§è¾¹æ çš„&lt;strong&gt;Developer Settings&lt;/strong&gt; - ä¾§è¾¹æ çš„&lt;strong&gt;Personal accesskey tokens&lt;/strong&gt; - &lt;strong&gt;Token (classic)&lt;/strong&gt;ã€‚ç„¶å&lt;strong&gt;generate new token&lt;/strong&gt; - &lt;strong&gt;Generate new token (classic)&lt;/strong&gt;ã€‚ç„¶åè¾“å¯†ç ä¹‹åï¼Œæ¥åˆ°æ–°å»ºtokençš„é¡µé¢ï¼Œåå­—éšä¾¿èµ·ï¼Œè¿‡æœŸæ—¶é—´éšä¾¿ï¼Œä¸‹é¢æ˜¯&lt;strong&gt;Select scopes&lt;/strong&gt;é€‰æ‹©å‰ä¸‰ä¸ªã€‚
**
æ–°å»ºå®Œæˆä¹‹åè®°å¾—å¤åˆ¶tokenï¼Œå› ä¸ºåªä¼šå‡ºç°ä¸€æ¬¡ï¼Œåé¢è¦ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://hxxxer.github.io/images/%E9%80%89%E6%8B%A9token%E7%B1%BB%E5%9E%8B.png&#34; alt=&#34;é€‰æ‹©tokenç±»å‹&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://hxxxer.github.io/images/%E6%96%B0%E5%BB%BAtoken.png&#34; alt=&#34;æ–°å»ºtoken&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;æ–°å»ºsecrets&#34;&gt;&lt;del&gt;æ–°å»ºsecrets&lt;/del&gt;&lt;/h4&gt;
&lt;p&gt;åˆšåˆšçš„tokenè¦ä¿å­˜åˆ°é¡¹ç›®çš„secretsé‡Œé¢ã€‚secretsæ˜¯ä¸€ç§å¯ä»¥åœ¨ymlé‡Œé¢è°ƒç”¨çš„å˜é‡ï¼Œä½†æ˜¯æ— æ³•å¾—çŸ¥å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;æ‰“å¼€é¡¹ç›®çš„&lt;strong&gt;setting&lt;/strong&gt; - ä¾§è¾¹æ çš„&lt;strong&gt;Secrets and variables&lt;/strong&gt; - &lt;strong&gt;Actions&lt;/strong&gt;ã€‚ç„¶åé€‰æ‹©ç»¿è‰²çš„&lt;strong&gt;New repository secret&lt;/strong&gt;ã€‚æ¥ä¸‹æ¥å°±æ˜¯æ–°å»ºé¡µé¢ï¼Œåå­—éšä¾¿ï¼Œè®°ä½å°±è¡Œï¼Œsecretå°±å¡«åˆšåˆšçš„tokenã€‚ç„¶åä¿å­˜å°±è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è¿˜æ²¡å®Œï¼Œè¿˜è¦é…ç½®é¡¹ç›®çš„æƒé™ã€‚æ‰“å¼€é¡¹ç›®çš„&lt;strong&gt;setting&lt;/strong&gt; - ä¾§è¾¹æ çš„&lt;strong&gt;Actions&lt;/strong&gt; - &lt;strong&gt;General&lt;/strong&gt;ï¼Œæ‰¾åˆ°&lt;strong&gt;Workflow permission&lt;/strong&gt;ï¼Œé€‰æ‹©ç¬¬ä¸€ä¸ªRead and write permissionsã€‚åˆ°è¿™é‡Œå°±å®Œæˆäº†ã€‚&lt;/p&gt;
&lt;h4 id=&#34;è¡¥å……&#34;&gt;è¡¥å……&lt;/h4&gt;
&lt;p&gt;åæ¥å‘ç°ä¸ç”¨æ–°å»ºï¼Œç›´æ¥åœ¨å‘å¸ƒçš„&lt;code&gt;with: token&lt;/code&gt;é‡Œç”¨&lt;code&gt;${{ secrets.GITHUB_TOKEN }}&lt;/code&gt;å°±è¡ŒğŸ˜‚ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åœ¨ymlæ–‡ä»¶è®¾å®šå‘å¸ƒ&#34;&gt;åœ¨ymlæ–‡ä»¶è®¾å®šå‘å¸ƒ&lt;/h3&gt;
&lt;p&gt;è¿™é‡Œæˆ‘æ˜¯ä½¿ç”¨åˆ«äººçš„actionså’Œç½‘å‹çš„æ¨¡æ¿ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yml&#34; data-lang=&#34;yml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;- &lt;span style=&#34;color:#ca9ee6&#34;&gt;name&lt;/span&gt;: Create and Upload Release
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#ca9ee6&#34;&gt;uses&lt;/span&gt;: softprops/action-gh-release@v2
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#ca9ee6&#34;&gt;if&lt;/span&gt;: startsWith(github.ref, &amp;#39;refs/tags/&amp;#39;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#ca9ee6&#34;&gt;with&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ca9ee6&#34;&gt;token&lt;/span&gt;: ${{ secrets.PB_TOKEN }}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ca9ee6&#34;&gt;tag_name&lt;/span&gt;: ${{ github.ref_name }}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ca9ee6&#34;&gt;name&lt;/span&gt;: Release ${{ github.ref_name }}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ca9ee6&#34;&gt;body&lt;/span&gt;: èˆ¹æ–°ç‰ˆæœ¬ï¼
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ca9ee6&#34;&gt;makelatest&lt;/span&gt;: &lt;span style=&#34;color:#ef9f76&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ca9ee6&#34;&gt;draft&lt;/span&gt;: &lt;span style=&#34;color:#ef9f76&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ca9ee6&#34;&gt;prerelease&lt;/span&gt;: &lt;span style=&#34;color:#ef9f76&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ca9ee6&#34;&gt;files&lt;/span&gt;: |&lt;span style=&#34;color:#737994&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#737994&#34;&gt;      HugoHelper.zip&lt;/span&gt;      
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;github.ref_name&lt;/code&gt;å°±æ˜¯ä¸Šä¼ è¿æ¥çš„åå­—ï¼Œæ¯”å¦‚æˆ‘æ˜¯é™åˆ¶åœ¨tagså‰ç¼€æ˜¯væ—¶å¯åŠ¨å·¥ä½œæµï¼Œé‚£è¿™é‡Œå°±æ˜¯v&amp;hellip;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;name&lt;/code&gt;å’Œ&lt;code&gt;tag_name&lt;/code&gt;é¡¾åæ€ä¹‰ï¼Œ&lt;code&gt;name&lt;/code&gt;å°±æ˜¯è¿™æ¬¡å‘å¸ƒçš„åå­—ï¼Œ&lt;code&gt;tag_name&lt;/code&gt;å°±æ˜¯å‘å¸ƒçš„tagçš„åå­—ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;makelatest&lt;/code&gt;å°±æ˜¯è®©è¿™æ¬¡å‘å¸ƒè®¾ç½®ä¸ºé¡¹ç›®çš„æœ€æ–°releaseã€‚&lt;/p&gt;
&lt;h1 id=&#34;å‚è€ƒ&#34;&gt;å‚è€ƒ&lt;/h1&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/m0_74075298/article/details/141230617&#34;&gt;Github Actionsè‡ªåŠ¨å‘å¸ƒrelease&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://segmentfault.com/a/1190000045270503&#34;&gt;å­¦ä¼šGithub Actionsè‡ªåŠ¨å‘å¸ƒç‰ˆæœ¬&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://cloud.tencent.com/developer/article/1970730&#34;&gt;GitHub Action è‡ªåŠ¨æ„å»º å¹¶release&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://juejin.cn/post/6908427616298991629&#34;&gt;GitHub Actions - ä½¿ç”¨ tag ä½œä¸ºå‘å¸ƒçš„ç‰ˆæœ¬å·&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.cjavapy.com/article/328/&#34;&gt;.NET Coreé¡¹ç›®æç¤ºæ‰¾ä¸åˆ°project.assets.jsonæ–‡ä»¶&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
- https://hxxxer.github.io/net%E4%BD%BF%E7%94%A8github-actions/ - This is a customized copyright.</description>
        </item>
    
    
  </channel>
</rss> 